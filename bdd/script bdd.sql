
DROP TABLE IF EXISTS CATEGORIE_RECETTE ;
CREATE TABLE CATEGORIE_RECETTE (CTG_ID_Entite_1 BIGINT IDENTITY NOT NULL,
 CTG_NOM_CATEGORIE_RECETTE VARCHAR(30),
 PRIMARY KEY (CTG_ID_Entite_1)) ;

DROP TABLE IF EXISTS RECETTE ;
CREATE TABLE RECETTE (R_ID_RECETTE BIGINT IDENTITY NOT NULL,
 R_NOM_RECETTE VARCHAR(50),
 R_DESC_RECETTE VARCHAR(800),
 R_TPSPREP_RECETTE TIME(0),
 R_TPSCUISSON_RECETTE TIME(0),
 R_TPSREPOS_RECETTE TIME(0),
 R_INGREDIENTS_RECETTE VARCHAR(200),
 R_ACCOMPAGNEMENT_RECETTE VARCHAR(50),
 CTG_ID_Entite 1 **NOT FOUND**,
 PRIMARY KEY (R_ID_RECETTE)) ;

DROP TABLE IF EXISTS PERSONNEL ;
CREATE TABLE PERSONNEL (P_ID_PERSONNEL BIGINT IDENTITY NOT NULL,
 P_NOM_PERSONNEL BIGINT,
 PRIMARY KEY (P_ID_PERSONNEL)) ;

DROP TABLE IF EXISTS MATERIEL ;
CREATE TABLE MATERIEL (M_ID_Materiel BIGINT IDENTITY NOT NULL,
 M_NOM_Materiel VARCHAR(30), M_QTEMAX_Materiel BIGINT,
 PRIMARY KEY (M_ID_Materiel)) ;

DROP TABLE IF EXISTS STOCK ;
CREATE TABLE STOCK (S_ID_STOCK BIGINT IDENTITY NOT NULL,
 S_QTE_STOCK BIGINT,
 CTG_STOCK_ID_CATEGORIE_STOCK **NOT FOUND**,
 PRIMARY KEY (S_ID_STOCK)) ;

DROP TABLE IF EXISTS CATEGORIE_STOCK ;
CREATE TABLE CATEGORIE_STOCK (CTG_STOCK_ID_CATEGORIE_STOCK BIGINT IDENTITY NOT NULL,
 CTG_STOCK_NOM_CATEGORIE_STOCK VARCHAR(30),
 PRIMARY KEY (CTG_STOCK_ID_CATEGORIE_STOCK)) ;

DROP TABLE IF EXISTS TYPE_INGREDIENT ;
 CREATE TABLE TYPE_INGREDIENT (TP_I_ID_TYPE_INGREDIENT BIGINT IDENTITY NOT NULL,
 TP_I_NOM_TYPE_INGREDIENT VARCHAR(20),
 PRIMARY KEY (TP_I_ID_TYPE_INGREDIENT)) ;

DROP TABLE IF EXISTS INGREDIENT ;
CREATE TABLE INGREDIENT (I_ID_INGREDIENT BIGINT IDENTITY NOT NULL,
 I_NOM_INGREDIENT VARCHAR(20),
 TP_I_ID_TYPE_INGREDIENT **NOT FOUND**,
 PRIMARY KEY (I_ID_INGREDIENT)) ;

DROP TABLE IF EXISTS Stocker ;
CREATE TABLE Stocker (S_ID_STOCK **NOT FOUND** IDENTITY NOT NULL,
 I_ID_INGREDIENT **NOT FOUND** NOT NULL,
 PRIMARY KEY (S_ID_STOCK,  I_ID_INGREDIENT)) ;

DROP TABLE IF EXISTS Ranger ;
CREATE TABLE Ranger (M_ID_Materiel **NOT FOUND** IDENTITY NOT NULL,
 S_ID_STOCK **NOT FOUND** NOT NULL,
 PRIMARY KEY (M_ID_Materiel,  S_ID_STOCK)) ;

ALTER TABLE RECETTE ADD CONSTRAINT FK_RECETTE_CTG_ID_Entite_1 FOREIGN KEY (CTG_ID_Entite_1) REFERENCES CATEGORIE_RECETTE (CTG_ID_Entite_1); ALTER TABLE STOCK ADD CONSTRAINT FK_STOCK_CTG_STOCK_ID_CATEGORIE_STOCK FOREIGN KEY (CTG_STOCK_ID_CATEGORIE_STOCK) REFERENCES CATEGORIE_STOCK (CTG_STOCK_ID_CATEGORIE_STOCK); ALTER TABLE INGREDIENT ADD CONSTRAINT FK_INGREDIENT_TP_I_ID_TYPE_INGREDIENT FOREIGN KEY (TP_I_ID_TYPE_INGREDIENT) REFERENCES TYPE_INGREDIENT (TP_I_ID_TYPE_INGREDIENT);
ALTER TABLE Stocker ADD CONSTRAINT FK_Stocker_S_ID_STOCK FOREIGN KEY (S_ID_STOCK) REFERENCES STOCK (S_ID_STOCK);
ALTER TABLE Stocker ADD CONSTRAINT FK_Stocker_I_ID_INGREDIENT FOREIGN KEY (I_ID_INGREDIENT) REFERENCES INGREDIENT (I_ID_INGREDIENT); 
ALTER TABLE Ranger ADD CONSTRAINT FK_Ranger_M_ID_Materiel FOREIGN KEY (M_ID_Materiel) REFERENCES MATERIEL (M_ID_Materiel);
ALTER TABLE Ranger ADD CONSTRAINT FK_Ranger_S_ID_STOCK FOREIGN KEY (S_ID_STOCK) REFERENCES STOCK (S_ID_STOCK); 